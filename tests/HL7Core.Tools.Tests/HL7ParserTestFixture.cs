using Microsoft.VisualStudio.TestTools.UnitTesting;
using HL7Core.Tools;

namespace HL7Core.Tools.Tests
{
    [TestClass]
    public class HL7ParserTestFixture
    {
        [TestMethod]
        public void CanParseLLP()
        {
            const string packet = @"MSH|^~\&|ADT|EPIC-PRD|QDXI|CHB|20120103161618||ADT^A03|12586919|P|2.3-CH|||NSEVN|A03|201201031616|||148266PID|1||1157644^^^^MRN|E925019^^^^EPI~1157644^^^^MRN~77274^^^^MEHC|MASWALI^HAWA||19951126|F^FEMALE||B^Black or African American|7 NORTH FRANKLIN STREET^APT  2^LYNN^MA^01904-0000^USA^^^ESSEX||(781)598-6334||EN^ENGLISH|S^SINGLE|MUS^MUSLIM/MOSLEM|6110810355|013-80-8049|||R3.01||||||||NROL|1||1|00081109^SIGMAN^ELLEN^S^^^^^^^^^BADGE~01003873^SIGMAN^ELLEN^S^^^^^^^^^EPDS|19990205||||||1493 CAMBRIDGE STREET^^CAMBRIDGE^MA^02139^USA^O~1493 CAMBRIDGE STREET^^CAMBRIDGE^MA^02139^USA^S^^^^^^^^^^^^^01003873-2^^^CAMBRIDGE PEDIATRICS|(617)665-1264^^WP^^^617^6651264~(617)665-1835^^OF^^^617^6651835PV1|1|I^INPATIENT|6E^^^^01|1^Emergency^N|||00080417^TRENOR^CAMERON^C^III^^^^^^^^BADGE~01094867^TRENOR^CAMERON^C^III^^^^^^^^EPDS|00081109^SIGMAN^ELLEN^S^^^^^^^^^BADGE~01003873^SIGMAN^ELLEN^S^^^^^^^^^EPDS||HEM^Hematology||||01^Physician Referral|||00126191^HENNELLY^KARA^E^^^^^^^^^BADGE~2012093^HENNELLY^KARA^E^^^^^^^^^EPDS|I|58825197|UHC^UNITED HEALTHCARE||||||||||||||||01^HOME|HOME^Home||||PB|||201201020159|201201031615||4000.14PV2||S^Semi-Private|BODY ACHES|||||201201020000||||||||||||||N||||||||||||||||4^Walk-InDG1|1|I9||BODY ACHES|201201020159|A|||||||||1|1094867^00080417ZMD|SIGMAN^ELLEN^S|1493 CAMBRIDGE STREET^^CAMBRIDGE^MA^02139|(617)665-1264|(617)665-1835||01003873|010038732|SIGMAN^ELLEN^S|1493 CAMBRIDGE STREET^^CAMBRIDGE^MA^02139|(617)665-1264|(617)665-1835||01003873|010038732|SIGMAN^ELLEN^S|SIGMAN^ELLEN^SZPV|||||||||01003873|4^TRIAGE LEVEL 4|93^OTHER||201^201716^636^A||ED ADMIT||||||||||201201020656";
            var result = HL7Parser.LoadPackage(packet);
            Assert.IsNotNull(result);
        }
    }
}
